services:
  agent:
    build: 
      context: .
      dockerfile: Dockerfile
    container_name: agent-browser-audit
    networks:
      - onm-audit-net
    volumes:
      - ./data:/app/data
      # Mount local plugin repo if needed for file analysis (optional)
      # - ../../../:/plugin-source:ro 
    environment:
      - HOME=/root
    entrypoint: ["/bin/sh", "-c", "sleep infinity"]
    stdin_open: true # docker run -i
    tty: true        # docker run -t

networks:
  onm-audit-net:
    external: true
    name: infra_onm-network
